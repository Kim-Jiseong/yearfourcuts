(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[514],{1372:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[pid]/upload",function(){return e(4474)}])},4474:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return a}});var i=e(5893),r=e(3299),o=e(1163),c=e(4480),u=e(7232),f=e(5176),l=e(7189),s=e(6037),d=e(9416);function a(){let n=(0,o.useRouter)(),t=n.query.pid,[e,a]=(0,c.FV)(u.nY),{data:p,status:g}=(0,r.useSession)({required:!1}),[h,m]=(0,c.FV)(u.CJ),[x,w]=(0,c.FV)(u.cg),b=n=>{console.log(n),a(n)};return(0,i.jsxs)("div",{children:[(0,i.jsx)(f.default,{page:e,pid:t,getPage:b}),1===e&&(0,i.jsx)(l.default,{}),2===e&&(0,i.jsx)(s.default,{}),3===e&&(0,i.jsx)(d.default,{})]})}},5176:function(n,t,e){"use strict";e.r(t);var i=e(5893);e(7294);var r=e(1163),o=e(6780),c=e(4480),u=e(7232);t.default=function(n){let t=(0,r.useRouter)(),[e,f]=(0,c.FV)(u.hP),[l,s]=(0,c.FV)(u.nY);return(0,i.jsxs)(o.h4,{children:["main"===n.page&&(0,i.jsxs)(o.oB,{children:[(0,i.jsx)("i",{className:"bi bi-chevron-left",onClick:()=>{t.push("/")}}),(0,i.jsxs)("p",{children:[n.name,"님의 앨범"]}),(0,i.jsx)("i",{className:"bi bi-upload",onClick:()=>{f("share")}})]}),1===n.page&&(0,i.jsxs)(o.oB,{children:[(0,i.jsx)("i",{className:"bi bi-chevron-left",onClick:()=>{t.push("/"+n.pid)}}),(0,i.jsx)("p",{children:"사진 올리기"}),(0,i.jsx)("div",{})]}),1!==n.page&&"main"!==n.page&&(0,i.jsxs)(o.oB,{children:[(0,i.jsx)("i",{className:"bi bi-chevron-left",onClick:()=>{s(l-1)}}),(0,i.jsx)("p",{children:"사진 올리기"}),(0,i.jsx)("div",{})]})]})}},7189:function(n,t,e){"use strict";e.r(t),e.d(t,{Frame:function(){return x},default:function(){return w}});var i=e(7297),r=e(5893),o=e(7294),c=e(5314),u=e(1163),f=e(594),l=e(9521),s=e(4480),d=e(7232),a={src:"/_next/static/media/FrameSel1.f8d98c2f.png",height:314,width:103,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAICAYAAAA870V8AAAAQ0lEQVR4nGP89/3tfwY2PgaGX58YgJw3/xlYeRkYfn8Gcn58QJL5+gLIAcr8Asu8B3JgMt9eI3G+Pkcy4GLJfwYoAADB7SxmACPnBgAAAABJRU5ErkJggg==",blurWidth:3,blurHeight:8},p={src:"/_next/static/media/FrameSel2.f5fdfae2.png",height:315,width:208,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAYAAAAx8TU7AAAAhUlEQVR42hXOPRKCQAwF4NzfE3AebdQCLSzoRFGGEVnZdf9gJ4/k614ymTyq6ga70w2HtkdaC1pjmc7dgGs/4mEslAmJyaUM5dICZsboA9MUItTXR/i8oJsd02t2+EvQoZp8ZNKgZ04WyqbM9IsJQr/i0n9wfA4gCUWqlP39XaRaqepm3QBz65av9xptvgAAAABJRU5ErkJggg==",blurWidth:5,blurHeight:8},g={src:"/_next/static/media/FrameSel3.ccd88c8f.png",height:315,width:208,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAYAAAAx8TU7AAAAd0lEQVR42i2KOQ4CQQwE2zNejs34/0t4AJ9AIoIIkAhWu2gO24wtKqkuqel2edh82qN9O6YjY/sUw/JezWmlh5fXqqlXgdNLD3snbRpD6t+jmQ8M3mXoHMY0OsEMjikCb76e78jjYaKgnCBViLdnEagBRPGiRPYDf3pOT/1WWrcAAAAASUVORK5CYII=",blurWidth:5,blurHeight:8};function h(){let n=(0,i.Z)(["\n      padding: 1rem;\n      border: 2px dashed;\n      border-color: ",";\n    "]);return h=function(){return n},n}function m(){let n=(0,i.Z)(["\n  padding: calc(1rem + 2px);\n  height: calc(100% + 2px);\n  border-radius: 4px;\n  /* width: 100%; */\n  cursor: pointer;\n  ","\n  margin-bottom: 2rem;\n"]);return m=function(){return n},n}let x=l.ZP.img.withConfig({componentId:"sc-a3846628-0"})(m(),n=>n.fid===n.select&&(0,l.iv)(h(),n.color));function w(n){(0,u.useRouter)();let[t,e]=(0,s.FV)(d.CJ),[i,l]=(0,o.useState)(),[h,m]=(0,s.FV)(d.nY),[w,b]=(0,s.FV)(d.cg),A=()=>{f.Z.get("http://ec2-13-125-79-217.ap-northeast-2.compute.amazonaws.com/api/posts/colorlist").then(n=>{console.log(n.data.colorlist[0]),l(n.data.colorlist)}).catch(n=>{console.log(n)})};return(0,o.useEffect)(()=>{A()},[]),(0,r.jsxs)(c.W2,{children:[(0,r.jsxs)(c.LZ,{children:[(0,r.jsx)("div",{children:"Step 1"}),(0,r.jsx)("div",{children:"템플릿을 골라주세요"})]}),(0,r.jsxs)(c.DK,{children:["모양 ",t]}),(0,r.jsxs)(c.DI,{children:[(0,r.jsx)(x,{src:a.src,fid:1,select:t,color:"#FFD275",onClick:()=>e(1)}),(0,r.jsx)(x,{src:p.src,fid:2,color:"#A0D2DB",select:t,onClick:()=>e(2)}),(0,r.jsx)(x,{src:g.src,fid:3,color:"#C490D1",select:t,onClick:()=>e(3)})]}),(0,r.jsx)(c.DK,{children:"컬러"}),(0,r.jsx)(c.Qk,{children:i&&i.map((n,t)=>(0,r.jsxs)(c.LI,{children:[(0,r.jsx)(c.Wp,{color:n,title:w}),(0,r.jsx)(c.g6,{color:n,onClick:()=>{b(n)}})]},n))}),(0,r.jsx)(c.un,{onClick:()=>{t&&w&&m(2)},children:"다음으로"})]})}},6037:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return s}});var i=e(5893),r=e(7294),o=e(5314),c=e(1163),u=e(4480),f=e(106),l=e(7232);function s(n){(0,c.useRouter)();let[t,e]=(0,u.FV)(l.Ht),[s,d]=(0,u.FV)(l.u9),[a,p]=(0,u.FV)(l.WQ),[g,h]=(0,u.FV)(l.$1),[m,x]=(0,u.FV)(l.CJ),[w,b]=(0,r.useState)(),[A,Z]=(0,u.FV)(l.nY),[v,C]=(0,u.FV)(l.cg);return console.log("frame",m),(0,i.jsxs)(o.W2,{children:[(0,i.jsxs)(o.LZ,{children:[(0,i.jsx)("div",{children:"Step 2"}),(0,i.jsx)("div",{children:"사진을 올려주세요"})]}),(0,i.jsx)(f.default,{}),(0,i.jsx)(o.un,{onClick:()=>{m&&v&&t&&s&&a&&g&&Z(3)},children:"다음으로"})]})}},9416:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return s}});var i=e(5893),r=e(7294),o=e(5314),c=e(1163),u=e(594),f=e(4480),l=e(7232);function s(n){let t=(0,c.useRouter)(),e=t.query.pid,s=(0,r.useRef)(),[d,a]=(0,f.FV)(l.cg),[p,g]=(0,f.FV)(l.CJ),[h,m]=(0,f.FV)(l.vf),[x,w]=(0,f.FV)(l.Nn),[b,A]=(0,f.FV)(l.Ht),[Z,v]=(0,f.FV)(l.u9),[C,j]=(0,f.FV)(l.WQ),[I,k]=(0,f.FV)(l.$1),[y,P]=(0,f.FV)(l.nY);console.log("frame",p);let F=n=>{m(n.target.value),console.log(h)},V=n=>{w(n.target.value),console.log(x),s.current.style.height="auto",s.current.style.height=s.current.scrollHeight+"px"},S=(n,t)=>{let e=atob(n.split(",")[1]),i=new ArrayBuffer(e.length),r=new Uint8Array(i);for(let o=0;o<e.length;o+=1)r[o]=e.charCodeAt(o);let c=new Blob([r],{type:"image/jpeg"}),u=new File([c],"image".concat(t,".jpg"));return console.log("image".concat(t," 변환됨")),u},R=async()=>{console.log("전송시작");let n=new FormData;[b,Z,C,I].forEach((t,e,i)=>{let r=S(t,e);n.append("image",r)}),console.log("image 모두 변환됨"),n.append("title",h),n.append("letter",x),n.append("color",d),n.append("frame",p),n.append("public_id",e),await (0,u.Z)({method:"post",url:"http://ec2-13-125-79-217.ap-northeast-2.compute.amazonaws.com/api/posts/newPost",data:n,headers:{"Content-Type":"multipart/form-data"}}).then(function(n){console.log(n),A(""),v(""),j(""),k(""),m(""),w(""),g(""),a("#FFD275"),P(1),t.push("/"+e)}).catch(function(n){console.log(n),alert("에러가 발생했습니다")})};return(0,i.jsxs)(o.W2,{children:[(0,i.jsxs)(o.LZ,{children:[(0,i.jsx)("div",{children:"Step 3"}),(0,i.jsx)("div",{children:"메시지를 남겨주세요"})]}),(0,i.jsx)(o.DK,{children:"작성"}),(0,i.jsx)(o.S3,{onChange:F,maxLength:8,placeholder:"8글자 이하로 적어주세요"}),(0,i.jsx)(o.DK,{children:"메시지"}),(0,i.jsx)(o.kr,{rows:1,ref:s,onChange:V}),(0,i.jsx)(o.un,{onClick:()=>{p&&d&&b&&Z&&C&&I&&x&&h&&R()},children:"사진 올리기"})]})}},6780:function(n,t,e){"use strict";e.d(t,{Bo:function(){return E},DK:function(){return S},F0:function(){return G},Hu:function(){return _},J4:function(){return J},Ld:function(){return L},MA:function(){return Y},W2:function(){return P},YC:function(){return O},Yq:function(){return U},_w:function(){return D},al:function(){return B},dE:function(){return M},g1:function(){return q},gN:function(){return R},gY:function(){return N},h4:function(){return F},oB:function(){return V},rZ:function(){return W},sJ:function(){return K},tc:function(){return Q},un:function(){return z},wn:function(){return H}});var i=e(7297),r=e(9521);function o(){let n=(0,i.Z)(["\n  width: 100%;\n  min-height: 100vh;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  align-items: center;\n  /* justify-content: center; */\n  /* border: 1px solid black; */\n"]);return o=function(){return n},n}function c(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 6.2rem;\n  position: absolute;\n  box-shadow: 0px 3px 6px #00000029;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: 0;\n"]);return c=function(){return n},n}function u(){let n=(0,i.Z)(["\n  width: 90%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  & i {\n    cursor: pointer;\n  }\n"]);return u=function(){return n},n}function f(){let n=(0,i.Z)(['\n  color: #4f3500;\n  /* font-weight: 700; */\n  text-align: center;\n  font-size: 2.4rem;\n  margin-top: 8.4rem;\n  margin-bottom: 2.2rem;\n  font-family: "SlowSlow";\n']);return f=function(){return n},n}function l(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 80%;\n"]);return l=function(){return n},n}function s(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 8.4rem;\n  background: ",";\n  box-shadow: 0px 3px 6px #00000029;\n  border: 2px solid #1d1b1c;\n  border-radius: 12px;\n  margin-bottom: 1rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.6rem;\n  color: white;\n  font-size: 1.8rem;\n  /* font-weight: 700; */\n"]);return s=function(){return n},n}function d(){let n=(0,i.Z)(["\n  margin-top: 1rem;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]);return d=function(){return n},n}function a(){let n=(0,i.Z)(["\n  width: 50%;\n  height: 5.6rem;\n"]);return a=function(){return n},n}function p(){let n=(0,i.Z)(["\n  width: 45%;\n  height: 5.6rem;\n  color: black;\n"]);return p=function(){return n},n}function g(){let n=(0,i.Z)(["\n  width: 100%;\n  padding-bottom: 120%;\n  margin-top: 2rem;\n  margin-bottom: 10rem;\n  background: #ffffff80 0% 0% no-repeat padding-box;\n  border: 2px dashed #333333;\n  border-radius: 12px;\n  position: relative;\n"]);return g=function(){return n},n}function h(){let n=(0,i.Z)(['\n  width: 100%;\n  font-family: "slowslow";\n  font-size: 2.2rem;\n  text-align: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n']);return h=function(){return n},n}function m(){let n=(0,i.Z)(["\n  width: 100px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return m=function(){return n},n}function x(){let n=(0,i.Z)(["\n  margin: 2rem;\n"]);return x=function(){return n},n}function w(){let n=(0,i.Z)(["\n  width: 80%;\n  height: 3.5rem;\n  background: #ffffff;\n  box-shadow: inset 0px 2px 6px #00000029;\n  border: 1px solid #1d1b1c;\n  border-radius: 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 6px;\n  margin: 0 auto;\n  & input {\n    width: 80%;\n    height: 3.5rem;\n    background: none;\n    color: #a5a5a5;\n    border: none;\n  }\n"]);return w=function(){return n},n}function b(){let n=(0,i.Z)([""]);return b=function(){return n},n}function A(){let n=(0,i.Z)(["\n  width: 100%;\n  overflow-x: scroll;\n  white-space: nowrap;\n  display: block;\n"]);return A=function(){return n},n}function Z(){let n=(0,i.Z)(['\n  font-family: "SlowSlow";\n  text-align: center;\n  font-size: 2.2rem;\n  margin-top: 2rem;\n  margin-bottom: 2rem;\n']);return Z=function(){return n},n}function v(){let n=(0,i.Z)(["\n  width: 210px;\n  /* padding-bottom: 150%; */\n  margin-right: 2rem;\n  display: inline-block;\n"]);return v=function(){return n},n}function C(){let n=(0,i.Z)(["\n  position: fixed;\n  width: 100%;\n  height: 100vh;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 2;\n  top: 0;\n  left: 0;\n  cursor: pointer;\n"]);return C=function(){return n},n}function j(){let n=(0,i.Z)(["\n  position: fixed;\n  background-color: white;\n  border-radius: 20px;\n  padding: 1.6rem;\n  z-index: 3;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]);return j=function(){return n},n}function I(){let n=(0,i.Z)(["\n  width: 80%;\n  text-align: center;\n  display: flex;\n  margin: 0 auto;\n  justify-content: space-between;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  & div:last-child {\n    cursor: pointer;\n  }\n"]);return I=function(){return n},n}function k(){let n=(0,i.Z)(["\n  width: 90%;\n  max-width: 387px;\n  position: fixed;\n  /* background-color: white; */\n  border-radius: 20px;\n  padding: 1.6rem;\n  z-index: 3;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]);return k=function(){return n},n}function y(){let n=(0,i.Z)(["\n  width: 80%;\n  margin: 0 auto;\n"]);return y=function(){return n},n}let P=r.ZP.div.withConfig({componentId:"sc-fbe50663-0"})(o()),F=r.ZP.div.withConfig({componentId:"sc-fbe50663-1"})(c()),V=r.ZP.div.withConfig({componentId:"sc-fbe50663-2"})(u()),S=r.ZP.div.withConfig({componentId:"sc-fbe50663-3"})(f()),R=r.ZP.div.withConfig({componentId:"sc-fbe50663-4"})(l()),z=r.ZP.div.withConfig({componentId:"sc-fbe50663-5"})(s(),n=>n.color),E=r.ZP.div.withConfig({componentId:"sc-fbe50663-6"})(d()),U=(0,r.ZP)(z).withConfig({componentId:"sc-fbe50663-7"})(a()),Y=(0,r.ZP)(z).withConfig({componentId:"sc-fbe50663-8"})(p()),D=r.ZP.div.withConfig({componentId:"sc-fbe50663-9"})(g()),J=r.ZP.div.withConfig({componentId:"sc-fbe50663-10"})(h()),B=r.ZP.div.withConfig({componentId:"sc-fbe50663-11"})(m()),N=r.ZP.div.withConfig({componentId:"sc-fbe50663-12"})(x()),Q=r.ZP.div.withConfig({componentId:"sc-fbe50663-13"})(w()),W=r.ZP.button.withConfig({componentId:"sc-fbe50663-14"})(b()),L=r.ZP.div.withConfig({componentId:"sc-fbe50663-15"})(A()),_=r.ZP.div.withConfig({componentId:"sc-fbe50663-16"})(Z()),K=r.ZP.div.withConfig({componentId:"sc-fbe50663-17"})(v()),q=r.ZP.div.withConfig({componentId:"sc-fbe50663-18"})(C()),G=r.ZP.div.withConfig({componentId:"sc-fbe50663-19"})(j()),O=r.ZP.div.withConfig({componentId:"sc-fbe50663-20"})(I()),H=r.ZP.div.withConfig({componentId:"sc-fbe50663-21"})(k()),M=r.ZP.div.withConfig({componentId:"sc-fbe50663-22"})(y())},5314:function(n,t,e){"use strict";e.d(t,{DI:function(){return A},DK:function(){return b},LI:function(){return v},LZ:function(){return w},Qk:function(){return Z},S3:function(){return I},W2:function(){return x},Wp:function(){return j},g6:function(){return C},kr:function(){return k},un:function(){return y}});var i=e(7297),r=e(9521);function o(){let n=(0,i.Z)(["\n  width: 80%;\n  min-height: 100vh;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  /* align-items: center; */\n"]);return o=function(){return n},n}function c(){let n=(0,i.Z)(['\n  margin-top: 10rem;\n  margin-bottom: 3rem;\n  font-family: "SlowSlow";\n  display: flex;\n  flex-direction: column;\n  font-size: 2.4rem;\n  align-items: center;\n  &:last-child {\n    font-size: 3rem;\n  }\n']);return c=function(){return n},n}function u(){let n=(0,i.Z)(["\n  font-size: 1.8rem;\n  /* font-weight: 700; */\n  margin: 2rem 0 2rem 0;\n"]);return u=function(){return n},n}function f(){let n=(0,i.Z)(["\n  width: 100%;\n  overflow-x: scroll;\n  /* display: flex; */\n  white-space: nowrap;\n"]);return f=function(){return n},n}function l(){let n=(0,i.Z)(["\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n"]);return l=function(){return n},n}function s(){let n=(0,i.Z)(["\n  position: relative;\n  /* padding: 1rem; */\n  margin-bottom: 2rem;\n  flex-grow: 0;\n  cursor: pointer;\n"]);return s=function(){return n},n}function d(){let n=(0,i.Z)(["\n  width: 6rem;\n  height: 6rem;\n  border-radius: 500px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  /* background-color: red; */\n  border: 3px solid #fff9e7;\n  background: "," no-repeat center;\n  background-size: cover;\n  box-shadow: inset 2px 2px 4px rgba(0, 0, 0, 0.25);\n"]);return d=function(){return n},n}function a(){let n=(0,i.Z)(["\n      visibility: visible;\n    "]);return a=function(){return n},n}function p(){let n=(0,i.Z)(["\n  width: 6.8rem;\n  height: 6.8rem;\n  background: "," no-repeat center;\n  background-size: cover;\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  border-radius: 500px;\n  visibility: hidden;\n  ","\n"]);return p=function(){return n},n}function g(){let n=(0,i.Z)(['\n  width: 100%;\n  background: none;\n  font-family: "SlowSlow";\n  border: none;\n  border-bottom: 1px solid black;\n  resize: none;\n  font-size: 2.4rem;\n  padding: 1rem;\n  padding-top: 0;\n']);return g=function(){return n},n}function h(){let n=(0,i.Z)(['\n  width: 100%;\n  background: none;\n  font-family: "SlowSlow";\n  border: 1px solid black;\n  resize: none;\n  font-size: 2.4rem;\n  padding: 1rem;\n']);return h=function(){return n},n}function m(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 6rem;\n  background: white;\n  box-shadow: 0px 3px 6px #00000029;\n  border: 2px solid #1d1b1c;\n  border-radius: 12px;\n  margin-top: 4rem;\n  margin-bottom: 1rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #1d1b1c;\n  font-size: 1.8rem;\n  /* font-weight: 700; */\n"]);return m=function(){return n},n}let x=r.ZP.div.withConfig({componentId:"sc-242f9fc3-0"})(o()),w=r.ZP.div.withConfig({componentId:"sc-242f9fc3-1"})(c()),b=r.ZP.div.withConfig({componentId:"sc-242f9fc3-2"})(u()),A=r.ZP.div.withConfig({componentId:"sc-242f9fc3-3"})(f()),Z=r.ZP.div.withConfig({componentId:"sc-242f9fc3-4"})(l()),v=r.ZP.div.withConfig({componentId:"sc-242f9fc3-5"})(s()),C=r.ZP.div.withConfig({componentId:"sc-242f9fc3-6"})(d(),n=>n.color||"black"),j=r.ZP.div.withConfig({componentId:"sc-242f9fc3-7"})(p(),n=>n.color||"black",n=>n.title===n.color&&(0,r.iv)(a())),I=r.ZP.input.withConfig({componentId:"sc-242f9fc3-8"})(g()),k=r.ZP.textarea.withConfig({componentId:"sc-242f9fc3-9"})(h()),y=r.ZP.div.withConfig({componentId:"sc-242f9fc3-10"})(m())}},function(n){n.O(0,[876,934,810,106,774,888,179],function(){return n(n.s=1372)}),_N_E=n.O()}]);